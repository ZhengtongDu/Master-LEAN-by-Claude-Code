# LEAN从入门到精通

> 一份面向具有高等数学背景和基本编程知识的研究生的 LEAN 4 定理证明器中文教程

---

## 第一部分：初识 LEAN

### 第一章：走进 LEAN 的世界

- 1.1 什么是定理证明器
- 1.2 LEAN 的诞生与发展历程
- 1.3 LEAN 4 vs LEAN 3：为什么选择 LEAN 4
- 1.4 LEAN 的应用场景：从数学形式化到程序验证
- 1.5 学习 LEAN 的路线图

### 第二章：环境搭建与工具链

- 2.1 安装 LEAN 4 和 elan
- 2.2 配置 VS Code 开发环境
- 2.3 创建第一个 LEAN 项目
- 2.4 Lake 构建系统详解
- 2.5 常用命令与快捷键

---

## 第二部分：LEAN 基础

### 第三章：类型论基础

- 3.1 从集合论到类型论：思维转变
- 3.2 类型、项与判断
- 3.3 函数类型与 Lambda 表达式
- 3.4 依赖类型初探
- 3.5 Curry-Howard 同构：命题即类型，证明即程序

### 第四章：LEAN 核心语法

- 4.1 定义与声明：def、theorem、lemma
- 4.2 基本数据类型：Nat、Int、Bool、String
- 4.3 复合类型：积类型与和类型
- 4.4 模式匹配与递归
- 4.5 命名空间与模块系统

### 第五章：命题与逻辑

- 5.1 命题类型 Prop
- 5.2 逻辑连接词：与、或、非、蕴含
- 5.3 全称量词与存在量词
- 5.4 相等性与重写
- 5.5 经典逻辑与构造逻辑

---

## 第三部分：证明技术

### 第六章：项式证明

- 6.1 直接构造证明项
- 6.2 函数应用与组合
- 6.3 匿名构造器与结构化证明
- 6.4 have、let、show 的使用
- 6.5 项式证明的优缺点

### 第七章：策略式证明（Tactics）

- 7.1 策略模式入门
- 7.2 基础策略：intro、apply、exact
- 7.3 逻辑策略：constructor、cases、rcases
- 7.4 重写策略：rw、simp、ring
- 7.5 自动化策略：decide、trivial、aesop
- 7.6 组合策略：<;>、·、repeat、first

### 第八章：归纳与递归

- 8.1 归纳类型的定义
- 8.2 自然数归纳法
- 8.3 结构归纳法
- 8.4 良基递归
- 8.5 互递归与嵌套递归

---

## 第四部分：LEAN 进阶

### 第九章：结构与类型类

- 9.1 结构体（structure）详解
- 9.2 类型类（class）机制
- 9.3 实例（instance）的定义与推断
- 9.4 常用类型类：Inhabited、BEq、Ord、Hashable
- 9.5 代数结构的类型类层次

### 第十章：Monad 与函数式编程

- 10.1 Functor、Applicative、Monad
- 10.2 Option 与错误处理
- 10.3 IO Monad 与副作用
- 10.4 StateM 与状态管理
- 10.5 do 记法详解

### 第十一章：元编程基础

- 11.1 LEAN 的元编程架构
- 11.2 语法（Syntax）与宏（Macro）
- 11.3 Elaboration 过程
- 11.4 编写自定义策略
- 11.5 编写自定义命令

---

## 第五部分：Mathlib 与数学形式化

### 第十二章：Mathlib 入门

- 12.1 Mathlib 简介与安装
- 12.2 Mathlib 的组织结构
- 12.3 查找引理：exact?、apply?、rw?
- 12.4 Mathlib 命名规范
- 12.5 阅读 Mathlib 源码

### 第十三章：代数结构形式化

- 13.1 群、环、域的定义
- 13.2 同态与同构
- 13.3 子结构与商结构
- 13.4 线性代数基础
- 13.5 实战：证明拉格朗日定理

### 第十四章：分析学形式化

- 14.1 实数与完备性
- 14.2 拓扑空间与连续性
- 14.3 极限与收敛
- 14.4 微分与积分
- 14.5 实战：证明中值定理

---

## 第六部分：高级主题

### 第十五章：LEAN 内核原理

- 15.1 类型检查算法
- 15.2 归约与转换
- 15.3 Universe 层级
- 15.4 公理系统：propext、funext、Quot
- 15.5 可信计算基础（TCB）

### 第十六章：程序验证

- 16.1 规范与实现
- 16.2 前置条件与后置条件
- 16.3 循环不变量
- 16.4 终止性证明
- 16.5 实战：验证排序算法

### 第十七章：大型项目实践

- 17.1 项目组织与模块划分
- 17.2 文档编写与 doc-gen
- 17.3 测试与持续集成
- 17.4 性能优化技巧
- 17.5 参与开源社区

---

## 附录

### 附录 A：常用策略速查表

### 附录 B：Mathlib 常用引理索引

### 附录 C：从其他证明助手迁移

- C.1 从 Coq 到 LEAN
- C.2 从 Isabelle 到 LEAN
- C.3 从 LEAN 3 到 LEAN 4

### 附录 D：学习资源与社区

- D.1 官方文档与教程
- D.2 推荐书籍与论文
- D.3 在线社区与交流平台
- D.4 练习题与项目建议

---

## 参考文献
